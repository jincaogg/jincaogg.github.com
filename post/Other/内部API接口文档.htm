<!DOCTYPE HTML>
<html dir="ltr" lang="zh-CN">
<head>
<title>内部API接口文档</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link href="/res/themes/bootstrap-responsive.min.css" rel="stylesheet">
<link href="/res/themes/united.min.css" rel="stylesheet">
<link href="/res/strapdown.css" rel="stylesheet">
<script src="/res/js/jquery-1.8.0.min.js"></script>
<script src='/res/js/marked.js' ></script>
<script type="text/javascript">
    var _speedMark = new Date();
</script>
<style>
footer{
    border-top: 1px solid #802C59; margin-bottom: -30px; padding-top: 10px;
}
.md_div{
    border: 1px solid #E3E3E3;
    border-radius: 4px 4px 4px 4px;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05) inset;
    padding: 15px;
    margin-bottom:30px;
}
.md_body{
    white-space: pre-wrap;
    word-break: break-all;
    word-wrap: break-word;
}
</style>
</head>


<div class="navbar navbar-inverse navbar-fixed-top">
 <div class="navbar-inner">
  <div class="container">
    <a data-toggle="collapse" data-target=".nav-collapse" class="btn btn-navbar">
        <i class="icon icon-reorder"></i>菜单</a>
    <a href="/index.htm" class="brand">RedMast</a>
   <div class="nav-collapse collapse">
    <ul class="nav">
     <li class=""><a href="/index.htm">首页</a></li>
     <li><a href="/list.htm">列表</a></li>
     
         <li><a href="/page/about.htm">关于</a></li>
     
    </ul>
   </div>
  </div>
 </div>
</div>




<div class='container'>
  <div class='row'>
    <div class='span12'>
        <h2>内部API接口文档</h2>
        <small>2012-03-30 11:30</small>
        <hr/>
        <div class="span2 toc-container">
         <div data-spy="affix" data-offset-top="185" style="width:140px;" class="toc"></div>
        </div>
    </div>
  </div>
</div>
<xmp theme="united" style="display:none;">

内部API接口文档
===========================
文档版本：

    * 建议用Firefox，chrome及IE9以上查看此文档
    


环境布署：



安全控制：

    请告知调用接口的内网IP，广点通添加访问授权；
    请应用侧对调用接口做各操作的频次限制；
    并提供每秒峰值和每日总请求数。

备注：

    1. 下面接口描述中的返回的JSON数据为了可读性而增加了空格换行等符号，实际输出中不含任何多余的空白字符。
    2. 返回的JSON数据中的中文不会被转换成“\uxxxx”这种形式，而是原样保留，例如“{"ret":0,"msg":"修改成功"}”，PHP的json_decode函数能够处理这种数据。
    3. 接口的输入编码为GBK。

接口路径：
        
    http://api.snsad.isd.com/gdt/{v1}/{mod}/{act}/
      其中：
        v1:接口当前的版本号,目前的版本即为v1
        mod:接口的模块
        act:接口调用的具体方法
        

通用参数：

    
    

    注意：上述所有参数需以GET方式传入 


批量请求：

    接口路径:http://api.snsad.isd.com/gdt/batch.php
    
    请求已POST封装发送
    
    例如：
        
        POST：
        
            {"batch":[{"api":"v1/index/demo_get","get":"uid=10"},{"api":"v1/index/demo_get","get":"uid=9","post":"a=1&b=2"}]}

        返回：
            
            [
                {
                    "api":"v1\/index\/demo_get",
                    "body":{"ret":0,"msg":"","data":{"uid":10}}
                },
                {    
                    "api":"v1\/index\/demo_get",
                    "body":{"ret":0,"msg":"","data":{"uid":9}}
                }
            ]
            

    
        
    
    
数据约定：
    
   - 通用状态：
   
        1   有效
        2   待审核
        3   审核不通过
        4   冻结
        10  暂停
        20  删除
        

   - advertiser:    广告主信息
   - campain:       推广计划
   - adgroup:       广告基本信息
   - creative:      素材 

   - target: 定向

        mid:        广告定向ID    第三方定向唯一id
        uid:        广告主ID    
        status:     广告定向状态        1:有效 4:无效
        m_name:     广告定向名称    
        last_mod_time:  数据变化时间戳，time_t    
        mod_time_us:    微秒，结合 last_mod_time 校验动作     
        class1:         一级分类       
        class[]:        用户兴趣 

        area[]:     地域及城市Id列表，  
        gender[]:   性别    男:1 女2 
        age[]:      年龄 1到126， 
        scene[]:    场景定向                   
                    1：表示投放 网吧
                    2：表示投放 家庭
                    3：表示投放 工作(办公室)
                    4：表示投放 学校
                    5：表示未知
        diamond[]:      钻等级    
        user_status[]:  用户状态    
         
        career[]:       用户职业    
        education[]:    用户教育程度    
        college[]:      学校     
        county[]:       区县     
       
        visitor[]:     访客定向，再营销ID列表
        notvisitor[]:  非到访定向，再营销ID列表

        location[]: LBS地理位置定向
                   
        payment[]：付费用户定向（扩展字段）    
            101：APP付费用户
            102:电商交易用户
            103:潜在付费用户

   - keyword: 关键词
        
      
       

##1.广告主

###1.1.同步广告主
********************************************************************
  * 地址：customer/sync
  * 方式：POST
  * 参数：

        advertiser: 复合结构，见数据约定[advertiser] 
        customer: 复合结构，见数据约定[customer]
        login: 复合结构，见数据约定[login]
        
        
        

  * 示例：
    
        POST http://api.snsad.isd.com/gdt/v1/customer/sync
    
        advertiser['uid']=123&..&customer['mid']=123&....&login['user_name']=123&..
        
        

  * 返回：

        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "同步成功",       // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            "data" :    {
                advertiser: 见数据约定[advertiser] 
                customer: 见数据约定[customer]
                login: 见数据约定[login]
            }
        }
        

###1.2.拉取广告主基本信息
********************************************************************
  * 地址：customer/get_advertiser
  * 方式：GET
  * 参数：

        uid：广告主ID
                        

  * 返回：

        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "同步成功",       // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            "data" :    {
                "uid": 2644750941,
                "ad_prd_id": 1,
                "status": 1,            
                "u_name": 'xx',                                // 广告主名称
                "corporation": 'xx',                        // 公司名
                "day_budget": 1000900,                      // 限额
                "fund_status": 1,                           // 资金状态
                "vir_fund_status": 1,                       // 虚拟资金状态
                "created_time": 1328614965,                 // 创建时间
                "last_mod_time": 1362540155,                // 最后修改时间
                "mod_time_us": 836032,                      // 
                "audit_status": 0,                          // 
                "audit_user": "",                           // 
                "audit_msg": "",                            // 
                "audit_time": 0,                            // 
                "class1": "10000000",                       // 
                "attr": "",                                 // 
                "ad_app": 5,                                // 
                "target_type": 25,                          // 推广方
                "app_agent_level": 0,                       // 
                "app_agent_discount": 100,                  // 
                "invoice_status": 1,                        // 
                "invoice_title": '',                        // 
                "receiver": '',                             // 
                "areacode": 440303,                         // 
                "adress": '',                               // 
                "zipcode": 518001,                          // 
                "phone_num": "0755-86013388-81235",            
                "mobile_num": "13800138001",            
                "email": "2644750941@qq.com",
                "site_url": "http://www.qq.com",
                "certificate_url": "http://pgdt.gtimg.cn/gdt/0/BCdo7JdAABRLus5ADdtXR.gif/0?ck=6c5e66322b7348c463b7f692f6a4019a",
                "site_name": "trtret",
                "industry": 1,
                "reg_from": 1,
                "come_from": "0",
                "license": "",
                "rz_qq": "",
                "discount": 100,
                "dis_start": 0,
                "dis_end": 0,
                "dis_status": 0,
                "dis_note": "",
                "r_id": 14863690,
                "r_id_apply_time": 1347866199,
                "r_id_approve_time": 1347866199,
                "r_site_u_r_l": "http://10.130.131.224:12380/",
                "r_status": 1,
                "bill_order": "3,4,1",
                "agency_u_id": 0,
                "app_ids": "",
                "comment": "",
                "user_cate_id": 0
            }
        }

        
        

##3.PaiPai广告同步接口

###3.1.同步Campaign
********************************************************************
  * 地址：paipai/sync_campaign
  * 方式：POST
  * 参数：
       
        logid:         广告主外部ID，目前只支持ＱＱ号吗
        outer_cid:     推广计划第三方ID，新增时，传0  第三方推广计划id
        status:        推广计划状态 ，接入方将最终状态统一到这个字段1:有效4:无效
        type:          广告类型  1.搜索广告2.展示广告
        cname:         推广计划名称  
        day_budget:    日限额不设置:0   
        bldate:        日限额到达日期格式:如201009230 不修改该值1 限额无限制   
        begin_time:    投放起始点不设置:0  
        end_time:      投放结束点不设置2037:1:1:0:0   
        time_set:    投放时段字符串格式，自左向右，每半小时用1个字节表示，用48*7字节串表示一个星期。1-48字节表示星期一、49-96字节表示星期二，以此类推。0表示对应的半小时不播放，1表示对应的半小时播放广告。 空则不处理   
        ad_app:     业务集合定向  
                        对拍拍展示广告:01000000
                        搜索广告:00100000
                        直投广告:10000000
        site_set:    站点集合定向   
                    100000000 qq空间[j1] 
                    01000000拍拍站内搜索
                    00100000qq商城
                    00010000拍拍导购资讯
                    00001000qq空间搜索
                    00000100网站联盟
                    00000010cpc外投
                    00000001朋友社区（app投放）
                    00000000 10000000qq群
                    00000000 01000000腾讯微博
                    00000000 00100000qq团购
                    00000000 00010000qq美食 
                    00000000 00001000qq票务
                    00000000 00000010移动终端
        last_mod_time:    数据变化时间戳，time_t  
        mod_time_us:    微秒，结合last_modtime 校验动作  
        mod_status:        修改状态，1-新上线；2-修改；3-下线；        ，由我方逻辑来处理
        cpc_discount:    cpc折扣*100后的值  
        app_id:            接入app id        
       

        
  * 返回：
  
        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "同步成功",       // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            "data" : {
                'cid'=>123              // 生成的推广计划ID
            }
        }



###3.2.同步AdGroup
********************************************************************
  * 地址：paipai/sync_adgroup
  * 方式：POST
  * 参数：
        
        logid:            广告主外部ID，目前只支持ＱＱ号吗
        outer_aid:        广告组第三方id，新增时，传0
        outer_cid:        推广计划第三方id        
        status:            广告状态，        
        aindex:            广告内部索引        
        aname:            广告组名称        
        target_type:    广告标目物类型0 无意义1 商品2 商铺         
        target_id:        广告标目物id        
        target_price:    广告标目物价格        
        target_name:    广告标目物名称        
        meta_class:        广告标目物品类        
        attribute:        广告标目物属性        
        class_price:    类目出价        
        outer_mid:        定向定向第三方 id        
        customer_price:    定向定向出价        
        default_price:    关键词默认出价        
        show_type:        素材优化类型        
        last_modtime:    数据变化时间戳，time_t        
        mod_timeus:        微秒，结合last_modtime 校验是否动作        
        begin_time:        投放起始点        
        end_time:        投放结束点        
        time_set:        投放时段，同推广计划        
        tag_match:        tag匹配方式        
        fee_type:        扣费类型点击计费方式
                            1     cpc点击；  此时fee_rat无效
                            2     cpa；      fee_rat，成交一次扣费额（分）
                            3     cps        fee_rat，计费万分比，成交额的万分比
                            4     cpm       fee_rat，成交一次扣费额（分）        
        

  * 返回：
  
        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "同步成功",       // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            "data" : {
                'aid'=>123              // 生成的广告ID
            }
        }
        
###3.3.同步Creative
********************************************************************
  * 地址：paipai/sync_creative
  * 方式：POST
  * 参数：

        loguid:        广告主ID
        outer_tid:    素材ID，新增时，传0
        outer_cid:    推广计划id
        outer_aid:    广告组id
        status:        素材状态，
        crt_type:    素材类型
        crt_size:    素材规格
        title:        素材标题
        desc:        素材描述
        image_url:    素材图片url
        show_url:    素材显示url
        dest_url:    素材目标url
        app1_type:    互动类型1
        app1_id:    互动应用1id
        app2_type:    互动类型2
        app2_id:    互动应用2id
        gift_type:    赠送类型
        gift_id:    赠送id
        gift_value:    赠送量
        last_modtime:    数据变化时间戳，time_t
        mod_timeus:    微秒，结合last_modtime 校验是否动作
        mod_status:    修改状态，1-新上线；2-修改；3-下线；
        app1_desc:    互动应用1详情
        app2_desc:    互动应用2详情
        expand:    扩展字段

  * 返回：
  
        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "同步成功",       // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            "data" : {
                'tid'=>123              // 生成的素材ID
            }
        }
        

###3.3.同步Targeting
********************************************************************
  * 地址：paipai/sync_targeting
  * 方式：POST
  * 参数：

        mid:        广告定向ID    
        uid:        广告主ID        
        m_name:     广告定向名称    
        last_mod_time:  数据变化时间戳，time_t    
        mod_time_us:    微秒，结合 last_mod_time 校验动作     
        
        area[]:     地域及城市Id列表，  
        gender[]:   性别    男:1 女2 
        age[]:      年龄 1到126， 
        scene[]:    场景定向   
                    1：表示未知                
                    2：公共场所
                    3：表示投放 家庭
                    4：表示投放 办公
                    5：表示投放 学校
                    
       
        user_status[]:  用户状态    
         
        career[]:       用户职业    
        education[]:    用户教育程度    
        college[]:      学校     
        county[]:       区县     
       
        visitor[]:     访客定向，再营销ID列表
        notvisitor[]:  非到访定向，再营销ID列表

        location[]: LBS地理位置定向
                   
        payment[]：付费用户定向（扩展字段）    
                101: APP付费用户
                102: 电商交易用户
                103: 潜在付费用户

        temperature[]: 温度值，以绝对零度为0, 支持区段
                        eg:
                            temperature[]='273~295'   代表是 0度到22度。

        climate[]: 气象   
                1: 晴天
                2：阴天
                3：雨
                4：雾
                5：雪
       
        dress_index[]:穿衣指数
                1：寒冷
                2：冷
                3：凉
                4：温凉
                5：凉舒适
                6：舒适
                7：热舒适
                8：炎热

        uvi[]:紫外线指数
                1：弱
                2：偏弱
                3：中等
                4：偏强
                5：强

        makeup_index[]:化妆指数
                1：保湿放龟裂
                2：保湿
                3：控油
                4：防晒
              

  * 返回：
  
        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "同步成功",       // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            
        }        
        
###3.4.同步Product
********************************************************************
  * 地址：paipai/sync_product
  * 方式：POST
  * 参数：

        见数据约定[product]        

  * 返回：
  
        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "同步成功",       // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            
        }



###3.5.同步Aduser
********************************************************************
  * 地址：paipai/sync_aduser
  * 方式：POST
  * 参数：

        uid:        广告主QQ号，>10000，下同   
        adprdid:    广告主属产品类型，1:Gdt用户， 2:Pai用户   拍拍：2其他：1
        status:        广告主状态，接入方将最终状态统一到这个字段1:有效4:无效    --创建时无效
        uname:        广告主昵称          
        corporation:    广告主店铺名         
        day_budget:    帐户日限额0 无限制取值在9999以内   无此功能:0 
        bldate:    帐户到达限额日期格式:如201009230 不修改该值1 限额无限制  
        fund_status :    资金状态1 有效2 余额不足或无效0 不修改该值        --创建时无效
        virfund_status:虚拟资金状态1 有效2 余额不足或无效0 不修改该值    --创建时无效
        last_mod_time:    数据变化时间戳，time_t  
        mod_time_us:    微秒，结合last_mod_time 校验是否动作  
        class1:        一级分类         
        attr:        广告主属性        
        ad_app:        业务类型       拍拍：本字段可能无意义 
                拍拍直通车：3 
                拍拍上qzone：2 
                拍拍外投：6
                拍拍直投：5
        target_type:    标的物类型     拍拍直投：17其他拍拍：1
       

  * 返回：
  
        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "同步成功",       // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            
        }




##4.再营销

###4.1.批量创建再营销规则
********************************************************************
  * 地址：remarketing/generate_rule
  * 方式：POST
  * 参数：

        请以标准JSON格式把数据POST过来，下面示例中的空白字符只为增加可读性，实际上可去掉
        {
            "uid" : 12345, // 广告主ID，必须是一个已注册的广告主
            "rule_list" : [
                {
                    "feature_type" : "paipai_category", // 规则类型， “paipai_category”为拍拍类目，“shop”为拍拍店铺
                    "element_id" : 1,             // 如果为类目则为类目ID（见下面的“类目ID映射”），店铺则为店铺ID
                    "operator" : 100002,          // 行为（见下面的“行为ID映射”）
                    "time_window" : 86400         // 行为有效时间，单位为秒，最小值1800，最大值86400*365（一年）
                },
                {
                    "feature_type" : "shop",
                    "element_id" : 1981000,
                    "operator" : 100002,
                    "time_window" : 86400
                }
                //,{},{}... 最多200个元素，4个属性都相同的规则会视为相同的规则，会被合并
            ]
        }

        类目ID映射：
             1 数码家电
             2 女装
             3 男装
             4 美容美妆
             5 饰品手表
             6 家纺日用
             7 时尚箱包
             8 图书影像
             9 食品玩具
            10 运动爱好
            11 内衣（该类目暂不支持，不开放使用）
            12 男鞋
            13 女鞋
            14 母婴

        行为ID映射：
            100002 在拍拍浏览
            100003 在拍拍收藏
            100004 在拍拍加入购物车
            100005 在拍拍下单
            100006 在拍拍支付

  * 返回：

        {
            "ret" : 0,                     // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" : "",                    // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            "data" : {
                "ruleid_set" : {           // 此处返回一个JSON结构，该JSON结构需要填在Customer表的扩展字段中的FRRuleIdSet中，并且同步Customer表，这才真正把再营销规则关联到广告中
                    "10000123" : 86400,    // Key为规则ID，值为行为有效时间
                    "10000124" : 86400
                },
                "ruleid_map" : {
                    "10000123" : 20000123, // 此处返回一个JSON结构，该JSON结构需要填在Customer表的扩展字段中的FRRuleIdMap中
                    "10000124" : 20000124
                },
                "ruleid_type" : {
                    "10000123" : 0,        // 此处返回一个JSON结构，该JSON结构需要填在Customer表的扩展字段中的FRRuleIdType中
                    "10000124" : 1029
                }
            }
        }

  * 备注：
  
        1. 直通车广告设置“拍拍用户购物行为定向（再营销定向）”在底层数据上实际上分两步处理：一、根据广告主设置的定向条件创建相应的定向规则；二、把定向规则绑定到指定广告上。
        2. 上面提供的接口可完成步骤一中的创建规则，并且成功后会返回对应的规则的集合。
        3. 在拿到对应的规则集合后，需要把规则集合的定义使用老的广告同步服务中的“同步广告组”的命令字，把规则集合写到Customer表中扩展字段的FRRuleIdSet、FRRuleIdMap和FRRuleIdType字段中。完整的示例如下：
        FExpand = "{ // 整个是一个JSON结构，实际应用中不需要空白字符
                       "FRRuleIdSet" : {           // 对应上面返回的ruleid_set节点
                           "10000123" : 86400,
                           "10000124" : 86400
                       },
                       "FRRuleIdMap" : {
                           "10000123" : 20000123, // 对应上面返回的ruleid_map节点
                           "10000124" : 20000124
                       },
                       "FRRuleIdType" : {
                           "10000123" : 0,        // 对应上面返回的ruleid_type节点
                           "10000124" : 1029
                       }"
                       // "FXXX" : "xxx", 如果还有其他扩展字段，也塞进这个结构里面
                   }"


##5.报表

###5.1.拉取指定广告主的简单总体信息
********************************************************************
  * 地址：report/summary
  * 方式：GET
  * 参数：

        uid：广告主ID
        sdate:开始日期
        edate:结束日期
        show_detail：是否显示详细按日明细 [0:不显示;默认 ,1:显示 ]

  * 返回：

        {
            "ret" : 0,                  // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" : "",                 // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            "data" : {
               "rows": [                //详细按日明细
                    {
                        "view_count": "29153095",        // 曝光
                        "valid_click_count": "72523",   // 有效点击
                        "order_count": "0",             // 下单量
                        "ctr": "2487",                  // CTR
                        "click_trade_rate": "0",        // 点击成交率
                        "cost": "959103",               // 花费 
                        "cpc": "13",                    // 点击单价 单位：分
                        "org_cost": "959103",           // 应扣
                        "stats_date": "20130301"        // 日期
                    },
                    {
                        "view_count": "28867770",
                        "valid_click_count": "55877",
                        "order_count": "0",
                        "ctr": "1935",
                        "click_trade_rate": "0",
                        "cost": "832999",
                        "cpc": "14",
                        "org_cost": "832999",
                        "stats_date": "20130302"
                    },
                    {
                        "view_count": "23473402",
                        "valid_click_count": "29653",
                        "order_count": "0",
                        "ctr": "1263",
                        "click_trade_rate": "0",
                        "cost": "606739",
                        "cpc": "20",
                        "org_cost": "606739",
                        "stats_date": "20130303"
                    },
                    {
                        "view_count": "33543319",
                        "valid_click_count": "54363",
                        "order_count": "0",
                        "ctr": "1620",
                        "click_trade_rate": "0",
                        "cost": "760620",
                        "cpc": "13",
                        "org_cost": "760620",
                        "stats_date": "20130304"
                    },
                    {
                        "view_count": "21617514",
                        "valid_click_count": "34327",
                        "order_count": "0",
                        "ctr": "1587",
                        "click_trade_rate": "0",
                        "cost": "549722",
                        "cpc": "16",
                        "org_cost": "549722",
                        "stats_date": "20130305"
                    }
                ],
                "sum": {            // 加和情况
                    "view_count": 136655100,
                    "valid_click_count": 246743,
                    "cost": 3709183,
                    "org_cost": 3709183
                },
                "extra": {            //额外信息
                    "curpage": 1,
                    "pagesize": 99999,
                    "totalnum": 5,
                    "totalpage": 1,
                    "notice": ""
                }
            }
        }
        
###5.2.推广计划报表（推广计划列表）
************************************************
  * 地址：report/campaign
  * 方式：GET
  * 参数：
        
        status：显示特定状态的推广计划，1为只显示状态为“可用”的推广计划，10为只显示状态为“暂停”的推广计划，0或留空表示不限状态
        reportonly：当值为1时表示“过滤无数据的结果”，默认值为0
        searchcname：查询的推广计划名称，例如“拍拍”，模糊匹配，默认值为空
        
        
  * 返回：

        callback({
            "ret" : 0,
            "data" : {
                "list" : [{
                    "campaignid" : 12345,             // 推广计划ID
                    "campaignname" : "创意集市",      // 推广计划名称
                    "status" : 1,                     // 推广计划状态
                    "daybudget" : 3000,               // 推广计划日限额，单位为人民币分
                    "viewcount" : 12345678,           // 曝光量
                    "validclickcount" : 123456,       // 有效点击量（表示点击量）
                    "ctr" : 0.012345,                 // 点击率（有效点击量/曝光量）
                    "orgcost" : 123456,               // 应扣费用（单位为人民币分）
                    "cost" : 1234560,                 // 实扣费用（单位为人民币分）
                    "cpc" : 12,                       // 点击均价（单位为分）
                },
                //{},
                //...
                ],
                "total" : {
                    // 汇总的数据，跟以上list中的一个节点的结构一样，表示输出的当前页数据的总和
                },
                "conf" : {
                    "pagesize" : 10,                  // 每页显示条目数
                    "page" : 1,                       // 当前页数
                    "totalpage" : 31,                 // 总页数
                    "totalnum" : 309                  // 条目总数
                },
                "notice" : "数据截止至2010-12-14日14点，下单、成交数据需隔天查看"  // 报表提示信息，如此字段内容非空，需要把信息展示给用户
            }
        });


##6.账户模块
###6.1.获取真实账户信息
************************************************
  * 地址：account/info
  * 方式：GET
  * 参数：
  
        uid：广告主ID
        
            
  * 返回：

        callback({
            "ret" : 0,
            "msg" : "",
            "data" : {
                "remain_r" : "1,234.56",                // 真实账户余额（0.00时给出提示）
                "remain_v" : "1,234.56",                // 虚拟金账户余额（0.00时给出提示）
                "daybudget" : 30,                       // 真实账户日限额，单位为元

                "costoftheday_r" : "1,234.56",          // 真实账户当天花费（当“当天花费“大于等于”账户日限额”时给出提示）
                "costoftheday_v" : "1,234.56",          // 虚拟金账户当天花费（当“当天花费“大于等于”账户日限额”时给出提示）
                "notice" : "您的帐户余额不足广告已暂停" // 给用户的提示信息，非空时给出提示
            }
        });

##7.无线广告联盟

###7.1.资料变更通知提醒
********************************************************************
  * 地址：munion/notice
  * 方式：GET
  * 参数：

        type:2,//更新app,1=>更新开发者信息
        id:123//app id或者开发者id

  * 示例：
    
        GET http://api.snsad.isd.com/gdt/v1/munion/notice?type=2&id=123
    
        
  * 返回：
  
        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "提醒成功",       // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
        }        
 
##8.内部事件通知
###8.1.系统资金到达通知
********************************************************************
  * 地址：notify/reach_advertiser_budget
  * 方式：POST
  * 参数：

        uid:        广告主ID
        daybuget；  当前限额,整数,单位分      eg:150000   
        bldate；    限额到达日期,整数           eg:20130801
      
  * 返回：
  
        {
            "ret" :    0,                // 返回码，0表示正常调用，非零表示异常，每个接口都有这个字段，字段意义相同 
            "msg" :    "",                 // 返回信息，当"ret"不为0时，可将这里的信息返回给用户作为错误提示，每个接口都有这个字段，字段意义相同
            'data':{
                'changed':1,          //1:已经修改，0：无需修改                
            }
        }        
        
###8.2.推广计划日限额到达通知        
 ********************************************************************
  * 地址：notify/reach_campaign_budget 
  * 方式：POST
  * 参数：

        uid:        广告主ID
        cid:        推广计划ID
        daybudget:   当前限额,整数,单位分      eg:150000   
        bldate:     限额到达日期,整数              eg:20130801
    
  * 返回：
  
        {
            "ret" :    0,                
            "msg" :    "",               
            'data':{
                'changed':1,          //1:已经修改，0：无需修改                
            }
        }    

###8.3.资金状态变化通知            
********************************************************************
  * 地址：notify/account
  * 方式：POST
  * 参数：

		注：appids和accountids只需选其一
        uid:     广告主ID
        appids:  账户类型,多账户以英文逗号隔开     现金:0,通用虚拟:1,分成账户:2, 其他:(appid)   eg:0,2 (现金和分成都下线)
		accountids:账户ID，,多账户以英文逗号隔开 
        status:  是否有效   有效:1，无效:2
            
  * 返回：
  
        {
            "ret" :    0,               
            "msg" :    "",             
            'data':{
                'changed':1,          //1:已经修改，0：无需修改                
            }
        }        


###8.4.资金账户创建同步(针对老的开户，需要经过DI写入日志)            
********************************************************************
  * 地址：notify/sync_account
  * 方式：POST
  * 参数：
		
        uid:     广告主ID
        appids:  账户类型,多账户以英文逗号隔开     现金:0,通用虚拟:1,分成账户:2, 其他:(appid)   eg:0,2 (现金和分成都下线)
    	appnames:各账户名称,多账户以英文逗号隔开   0:现金, 1:通用虚拟，2:分成账户，其他采用app的名称   
            
  * 返回：
  
        {
            "ret" :    0,               
            "msg" :    "",             
            'data':	   true
        }        
 

</xmp>
<div class='container'>
<div>
<style>
#disqus_thread{ 
    border-top: 1px solid #CCCCCC;
    padding-top: 30px;
}
.toc{
    position: fixed; 
    display: block;
    top: 90px; 
    border: 1px solid rgb(204, 204, 204);
    padding: 12px; 
    width: 190px;
    background-color: rgb(255, 255, 238); 
    right: 140px;
    display:none;
}

</style>
<div id="disqus_thread"></div>

<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'redmast'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();


window.onload = function () {
        // Looks for an element with the class "toc" and appends an empty list
        $(".toc").append("<ol id='toc'></ul>");
        var TOC = $("ol#toc");
        
        $.each($('#content h2'), function(k, v) {
          var heading = $(v); // get the heading
          var headingText = $(v).text(); // get the value of the heading
          // make a URI-friendly id for the heading
          var headingID = encodeURIComponent(headingText);
          $(v).attr("id", headingID); //assign the new id
          // change the heading text to include a number for prettier headings
          heading.text((k+1) +". " + headingText);
          // create a link in the list for the heading
          TOC.append("<li><a href=\"#" + headingID +"\">" + headingText + "</a></li>" );
        });
        // Put a title on the table of contents
        $(".toc").prepend("<h3>目录</h3>");
      }

</script>
</div>    
</div>
<script src="/res/strapdown.js"></script>
<script src="/res/js/bootstrap.min.js"></script>
<script>
//使用marked直接转码没有做色
$.each($('xxmp'),function(k,v){
    var obj=$(v);
    var md_body_str=$(v).text();
    var html=marked.parser(marked.lexer(md_body_str));
    obj.closest('div').html(html);
});
</script>
<footer>
              
<div style='display:none'>
    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=24035442" charset="UTF-8"></script> 
</div>
      <div class="container">
        <div class="row">
          <div class="span12">
            <center>
              <p>Copyright © 2013</p>
            </center>
          </div>
        </div>
      </div>
</footer>
</html>

